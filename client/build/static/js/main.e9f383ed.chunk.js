(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{33:function(e,a,t){e.exports=t(63)},38:function(e,a,t){},39:function(e){e.exports={}},63:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),r=t(28),o=t.n(r),l=(t(38),t(39),t(30)),s=t(6),i=t(11),m=t(29),u=t(10);function v(e){return e.active?c.a.createElement("li",{className:"nav-item active"},c.a.createElement("a",{className:"nav-link",href:e.href},e.name)):c.a.createElement("li",{className:"nav-item"},c.a.createElement("a",{className:"nav-link",href:e.href},e.name))}var d=function(e){return c.a.createElement("nav",{className:"navbar "+e.custom,"color-on-scroll":"100"},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"navbar-translate"},c.a.createElement("a",{className:"navbar-brand",href:"#"},"Google Books "),c.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","aria-expanded":"false","aria-label":"Toggle navigation"},c.a.createElement("span",{className:"sr-only"},"Toggle navigation"),c.a.createElement("span",{className:"navbar-toggler-icon"}),c.a.createElement("span",{className:"navbar-toggler-icon"}),c.a.createElement("span",{className:"navbar-toggler-icon"}))),c.a.createElement("div",{className:"collapse navbar-collapse"},c.a.createElement("ul",{className:"navbar-nav ml-auto"},c.a.createElement(v,{active:"search"===e.page,name:"Search",href:"search"}),c.a.createElement(v,{active:"saved"===e.page,name:"Saved",href:"saved"})))))};var h=function(e){var a=(new Date).getFullYear();return c.a.createElement("footer",{className:"footer footer-default"},c.a.createElement("div",{className:"container"},c.a.createElement("nav",{className:"float-left"},c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement("a",{href:"https://www.creative-tim.com/"},"Creative Tim")))),c.a.createElement("div",{className:"copyright float-right"},"\xa9",a,", made with ",c.a.createElement("i",{className:"material-icons"},"favorite")," by",c.a.createElement("a",{href:"https://www.creative-tim.com/",target:"blank"},"Creative Tim")," for a better web.")))};var f=function(e){return c.a.createElement("div",{className:"main"},c.a.createElement("div",{className:"container p-3"},c.a.createElement("h1",null,e.name),e.children))},E=t(12),g=t(13),b=t(15),p=t(14),k=t(16),N=c.a.createContext({}),w=function(e){function a(){var e,t;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(b.a)(this,(e=Object(p.a)(a)).call.apply(e,[this].concat(r)))).createCards=function(){for(var e=[],a=function(a){var n=c.a.createElement("div",{className:"card",key:a},c.a.createElement("div",{className:"card-header"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col s6"},c.a.createElement("h4",{className:"card-title"},t.context.books[a].title)),c.a.createElement("div",{className:"col s6"},c.a.createElement("a",{href:t.context.books[a].link,target:"_blank",className:"btn m-1"},c.a.createElement("i",null,"View")),c.a.createElement("a",{href:"#",className:"btn m-1",onClick:function(){return t.context.handleSaveBook(t.context.books[a])}},c.a.createElement("i",null,"Save")))),c.a.createElement("div",{className:"row"},c.a.createElement("p",{className:"category m-3"},t.context.books[a].authors))),c.a.createElement("div",{className:"card-body"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col s8"},c.a.createElement("p",{className:"category"},t.context.books[a].description)),c.a.createElement("div",{className:"col s4"},c.a.createElement("img",{src:t.context.books[a].image,className:"img-fluid",alt:"Responsive"})))));e.push(n)},n=0;n<t.context.books.length;n++)a(n);return e},t}return Object(k.a)(a,e),Object(g.a)(a,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"input-field col s12"},c.a.createElement("label",{className:"m-2",htmlFor:"search"},"Book Search"),c.a.createElement("input",{onChange:this.context.handleSearchInputChange,name:"search",placeholder:"",value:this.context.formObject.search}),c.a.createElement("a",{href:"#",className:"btn m-2",onClick:this.context.handleSearchSubmit},c.a.createElement("i",null,"Search")))),c.a.createElement("div",{className:"row"},this.createCards()))}}]),a}(c.a.Component);w.contextType=N;var x=w,j=t(8),y=t.n(j),O={getBooks:function(){return y.a.get("/api/books")},getBook:function(e){return y.a.get("/api/books/"+e)},deleteBook:function(e){return y.a.delete("/api/books/"+e)},saveBook:function(e){return y.a.post("/api/books",e)},searchBooks:function(e){return y.a.get("https://www.googleapis.com/books/v1/volumes?q="+e)}};var S=function(){var e=Object(n.useState)([]),a=Object(u.a)(e,2),t=a[0],r=a[1],o=Object(n.useState)({search:""}),l=Object(u.a)(o,2),s=l[0],v=l[1];return c.a.createElement("div",null,c.a.createElement(d,{page:"search",custom:"navbar-expand-lg bg-dark"}),c.a.createElement(f,{name:"Search"},c.a.createElement(N.Provider,{value:{handleSaveBook:function(e){console.log(e),O.saveBook({title:e.title,authors:e.authors,description:e.description,image:e.image,link:e.link}).catch(function(e){return console.log(e)})},handleSearchSubmit:function(e){e.preventDefault(),O.searchBooks(s.search).then(function(e){for(var a=[],t=0;t<e.data.items.length;t++){var n={authors:e.data.items[t].volumeInfo.authors,description:e.data.items[t].volumeInfo.description,image:e.data.items[t].volumeInfo.imageLinks.thumbnail,link:e.data.items[t].volumeInfo.infoLink,title:e.data.items[t].volumeInfo.title};a.push(n)}console.log(a),r(a)}).catch(function(e){return console.log(e)})},handleSearchInputChange:function(e){var a=e.target,t=a.name,n=a.value;v(Object(m.a)({},s,Object(i.a)({},t,n)))},formObject:s,books:t}},c.a.createElement(x,null))),c.a.createElement(h,null))},B=function(e){function a(){var e,t;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(b.a)(this,(e=Object(p.a)(a)).call.apply(e,[this].concat(r)))).createCards=function(){for(var e=[],a=function(a){var n=c.a.createElement("div",{className:"card",key:a},c.a.createElement("div",{className:"card-header"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col s6"},c.a.createElement("h4",{className:"card-title"},t.context.books[a].title)),c.a.createElement("div",{className:"col s6"},c.a.createElement("a",{href:t.context.books[a].link,target:"_blank",className:"btn m-1"},c.a.createElement("i",null,"View")),c.a.createElement("a",{href:"#",className:"btn m-1",onClick:function(){return t.context.deleteBook(t.context.books[a]._id)}},c.a.createElement("i",null,"Delete")))),c.a.createElement("div",{className:"row"},c.a.createElement("p",{className:"category m-3"},t.context.books[a].authors))),c.a.createElement("div",{className:"card-body"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col s8"},c.a.createElement("p",{className:"category"},t.context.books[a].description)),c.a.createElement("div",{className:"col s4"},c.a.createElement("img",{src:t.context.books[a].image,className:"img-fluid",alt:"Responsive"})))));e.push(n)},n=0;n<t.context.books.length;n++)a(n);return e},t}return Object(k.a)(a,e),Object(g.a)(a,[{key:"render",value:function(){return c.a.createElement("div",{className:"row"},this.createCards())}}]),a}(c.a.Component);B.contextType=N;var C=B;var I=function(){var e=Object(n.useState)([]),a=Object(u.a)(e,2),t=a[0],r=a[1];function o(){O.getBooks().then(function(e){return r(e.data)}).catch(function(e){return console.log(e)})}return Object(n.useEffect)(function(){o()},[]),c.a.createElement("div",null,c.a.createElement(d,{page:"saved",custom:"navbar-expand-lg bg-dark"}),c.a.createElement(f,{name:"Saved"},c.a.createElement(N.Provider,{value:{books:t,deleteBook:function(e){O.deleteBook(e).then(function(e){return o()}).catch(function(e){return console.log(e)})}}},c.a.createElement(C,null))),c.a.createElement(h,null))};var T=function(){return c.a.createElement(l.a,null,c.a.createElement("div",null,c.a.createElement(s.c,null,c.a.createElement(s.a,{exact:!0,path:"/",component:S}),c.a.createElement(s.a,{exact:!0,path:"/search",component:S}),c.a.createElement(s.a,{exact:!0,path:"/saved",component:I}))))},L=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function W(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}o.a.render(c.a.createElement(T,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");L?function(e){fetch(e).then(function(a){404===a.status||-1===a.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):W(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e):W(e)})}}()}},[[33,1,2]]]);
//# sourceMappingURL=main.e9f383ed.chunk.js.map